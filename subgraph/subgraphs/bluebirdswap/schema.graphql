enum TokenStandard {
  ERC721
}

# Collection Entity
type Collection @entity(immutable: true) {
  id: ID!
  contract: Bytes!
  name: String!
  tokens: [Token!]! @derivedFrom(field: "collection")
  options: [Option!]! @derivedFrom(field: "collection")
}

# Collection Entity
type Token @entity {
  id: ID!
  collection: Collection!
  name: String!
  owner: Bytes!
  tokenId: BigInt!
}

type Trades @entity {
  id: ID!
  option: Option!
  premium: BigInt!
  owner: String!
  exercised: Boolean!
  isProfit: Boolean!
  pl: BigInt!
  timestamp: BigInt!
}

type Option @entity(immutable: true) {
  id: ID! # {CollectionId}-{OptionId}
  collection: Collection!
  epoch: BigInt!
  strikePrice: BigInt!
  isPut: Boolean!
  startTime: BigInt!
  expiry: BigInt!
}
